---
import Layout from '../layouts/Layout.astro';
import MermaidLiveEditor from '../components/markdown/MermaidLiveEditor.jsx';
import Mermaid from '../components/markdown/Mermaid.astro';
---

<Layout title="Mermaid Live Editor - Interactive Diagram Creation">
  <div class="mermaid-editor-page">
    <header class="page-header">
      <h1>Mermaid Live Editor</h1>
      <p>Create, edit, and preview Mermaid diagrams in real-time with our interactive editor</p>
    </header>

    <main class="page-content">
      <!-- Interactive Editor Section -->
      <section class="editor-section">
        <h2>Interactive Editor</h2>
        <p>Use the live editor below to create and edit Mermaid diagrams. Features include:</p>
        <ul>
          <li>Real-time preview with syntax highlighting</li>
          <li>Built-in examples for different diagram types</li>
          <li>Error handling and validation</li>
          <li>Export to SVG format</li>
          <li>GitHub integration for loading diagrams</li>
        </ul>

        <div class="editor-container">
          <MermaidLiveEditor client:load />
        </div>
      </section>

      <!-- Examples Section -->
      <section class="examples-section">
        <h2>Diagram Examples</h2>
        <p>Explore different types of Mermaid diagrams:</p>

        <div class="examples-grid">
          <!-- Flowchart Example -->
          <div class="example-card">
            <h3>Flowchart</h3>
            <Mermaid
              code={`graph TD
    A[Start] --> B{Decision?};
    B -->|Yes| C[Action 1];
    B -->|No| D[Action 2];
    C --> E[End];
    D --> E;
    
    style A fill:#e1f5fe
    style C fill:#e8f5e8
    style D fill:#fff3e0`}
            />
          </div>

          <!-- Sequence Diagram Example -->
          <div class="example-card">
            <h3>Sequence Diagram</h3>
            <Mermaid
              code={`sequenceDiagram
    participant User
    participant System
    participant Database
    
    User->>System: Request Data
    System->>Database: Query
    Database-->>System: Results
    System-->>User: Response`}
            />
          </div>

          <!-- Class Diagram Example -->
          <div class="example-card">
            <h3>Class Diagram</h3>
            <Mermaid
              code={`classDiagram
    class Animal {
        +String name
        +move()
    }
    class Dog {
        +bark()
    }
    class Bird {
        +fly()
    }
    Animal <|-- Dog
    Animal <|-- Bird`}
            />
          </div>

          <!-- Gantt Chart Example -->
          <div class="example-card">
            <h3>Gantt Chart</h3>
            <Mermaid
              code={`gantt
    title Project Timeline
    dateFormat  YYYY-MM-DD
    section Phase 1
    Planning    :plan, 2024-01-01, 30d
    Design      :design, after plan, 20d
    section Phase 2
    Development :dev, after design, 45d
    Testing     :test, after dev, 15d`}
            />
          </div>
        </div>
      </section>

      <!-- Features Section -->
      <section class="features-section">
        <h2>Features & Capabilities</h2>

        <div class="features-grid">
          <div class="feature-card">
            <div class="feature-icon">âš¡</div>
            <h3>Real-time Preview</h3>
            <p>See your diagrams update instantly as you type, with automatic error detection and validation.</p>
          </div>

          <div class="feature-card">
            <div class="feature-icon">ðŸŽ¨</div>
            <h3>Multiple Themes</h3>
            <p>Choose from various themes including default, dark, forest, and neutral to match your design.</p>
          </div>

          <div class="feature-card">
            <div class="feature-icon">ðŸ“±</div>
            <h3>Responsive Design</h3>
            <p>Fully responsive interface that works seamlessly on desktop, tablet, and mobile devices.</p>
          </div>

          <div class="feature-card">
            <div class="feature-icon">ðŸ”—</div>
            <h3>GitHub Integration</h3>
            <p>Load diagrams directly from GitHub repositories and save your work to version control.</p>
          </div>

          <div class="feature-card">
            <div class="feature-icon">ðŸ’¾</div>
            <h3>Export Options</h3>
            <p>Export your diagrams as SVG files for use in documentation, presentations, or web applications.</p>
          </div>

          <div class="feature-card">
            <div class="feature-icon">â™¿</div>
            <h3>Accessibility</h3>
            <p>Built with accessibility in mind, supporting keyboard navigation and screen readers.</p>
          </div>
        </div>
      </section>

      <!-- Usage Instructions -->
      <section class="usage-section">
        <h2>How to Use</h2>

        <div class="usage-steps">
          <div class="step">
            <div class="step-number">1</div>
            <div class="step-content">
              <h3>Choose an Example</h3>
              <p>Start with one of our built-in examples or create your own diagram from scratch.</p>
            </div>
          </div>

          <div class="step">
            <div class="step-number">2</div>
            <div class="step-content">
              <h3>Edit the Code</h3>
              <p>Modify the Mermaid syntax in the left panel. The preview will update automatically.</p>
            </div>
          </div>

          <div class="step">
            <div class="step-number">3</div>
            <div class="step-content">
              <h3>Preview & Refine</h3>
              <p>View your diagram in the right panel and make adjustments as needed.</p>
            </div>
          </div>

          <div class="step">
            <div class="step-number">4</div>
            <div class="step-content">
              <h3>Export & Share</h3>
              <p>Download your diagram as SVG or copy the code to use in your projects.</p>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <style>
    .mermaid-editor-page {
      min-height: 100vh;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #333;
    }

    .page-header {
      text-align: center;
      padding: 3rem 2rem;
      color: white;
    }

    .page-header h1 {
      font-size: 3rem;
      margin-bottom: 1rem;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    }

    .page-header p {
      font-size: 1.25rem;
      opacity: 0.9;
      max-width: 600px;
      margin: 0 auto;
    }

    .page-content {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
    }

    .editor-section,
    .examples-section,
    .features-section,
    .usage-section {
      background: white;
      border-radius: 12px;
      padding: 2rem;
      margin-bottom: 2rem;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    }

    .editor-section h2,
    .examples-section h2,
    .features-section h2,
    .usage-section h2 {
      color: #2d3748;
      margin-bottom: 1rem;
      font-size: 2rem;
    }

    .editor-section p {
      color: #4a5568;
      margin-bottom: 1rem;
    }

    .editor-section ul {
      color: #4a5568;
      margin-bottom: 2rem;
      padding-left: 1.5rem;
    }

    .editor-section li {
      margin-bottom: 0.5rem;
    }

    .editor-container {
      border-radius: 12px;
      overflow: hidden;
    }

    .examples-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .example-card {
      background: #f7fafc;
      border-radius: 8px;
      padding: 1.5rem;
      border: 1px solid #e2e8f0;
    }

    .example-card h3 {
      color: #2d3748;
      margin-bottom: 1rem;
      font-size: 1.25rem;
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .feature-card {
      text-align: center;
      padding: 2rem 1rem;
      background: #f7fafc;
      border-radius: 8px;
      border: 1px solid #e2e8f0;
      transition: transform 0.2s ease;
    }

    .feature-card:hover {
      transform: translateY(-4px);
    }

    .feature-icon {
      font-size: 3rem;
      margin-bottom: 1rem;
    }

    .feature-card h3 {
      color: #2d3748;
      margin-bottom: 1rem;
      font-size: 1.25rem;
    }

    .feature-card p {
      color: #4a5568;
      line-height: 1.6;
    }

    .usage-steps {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .step {
      display: flex;
      align-items: flex-start;
      gap: 1rem;
      padding: 1.5rem;
      background: #f7fafc;
      border-radius: 8px;
      border: 1px solid #e2e8f0;
    }

    .step-number {
      width: 3rem;
      height: 3rem;
      background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 1.25rem;
      flex-shrink: 0;
    }

    .step-content h3 {
      color: #2d3748;
      margin-bottom: 0.5rem;
      font-size: 1.125rem;
    }

    .step-content p {
      color: #4a5568;
      line-height: 1.6;
    }

    @media (max-width: 768px) {
      .page-header h1 {
        font-size: 2rem;
      }

      .page-header p {
        font-size: 1rem;
      }

      .page-content {
        padding: 1rem;
      }

      .editor-section,
      .examples-section,
      .features-section,
      .usage-section {
        padding: 1.5rem;
      }

      .examples-grid,
      .features-grid,
      .usage-steps {
        grid-template-columns: 1fr;
        gap: 1rem;
      }

      .step {
        flex-direction: column;
        text-align: center;
      }
    }
  </style>
</Layout>
