---
import CyberpunkLayout from '../layouts/CyberpunkLayout.astro';
import LanguageToggle from '../components/core/LanguageToggle.jsx';

const lang = Astro.url.searchParams.get('lang') || 'en';
const t = {
  en: {
    title: 'Articles',
    subtitle: 'Deep-dives into Model Context Protocol, agentic systems, and production-grade AI.',
    featured: 'Featured Articles',
    read: 'Read article',
    items: [
      {
        href: `${import.meta.env.BASE_URL}articles/mcp-in-practice`,
        title: 'Model Context Protocol in Practice',
        description: 'Real-world patterns, coordination, and failure modes for MCP-based agent systems.'
      },
      {
        href: `${import.meta.env.BASE_URL}articles/mcp-contributions`,
        title: 'Open Contributions to MCP',
        description: 'A summary of ecosystem contributions, tools, and servers/clients I maintain.'
      },
      {
        href: `${import.meta.env.BASE_URL}articles/mcp-open-platform`,
        title: 'MCP as an Open API Platform',
        description: 'Why MCP matters as a portable API substrate for agents across runtime boundaries.'
      },
    ],
  },
  cs: {
    title: 'Články',
    subtitle: 'Hlubší pohledy na MCP, agentní systémy a produkční AI.',
    featured: 'Vybrané články',
    read: 'Přečíst článek',
    items: [
      {
        href: `${import.meta.env.BASE_URL}articles/mcp-in-practice?lang=cs`,
        title: 'Model Context Protocol v praxi',
        description: 'Reálné vzory, koordinace a selhání u agentních systémů postavených na MCP.'
      },
      {
        href: `${import.meta.env.BASE_URL}articles/mcp-contributions?lang=cs`,
        title: 'Příspěvky do MCP ekosystému',
        description: 'Souhrn nástrojů a serverů/klientů, které udržuji.'
      },
      {
        href: `${import.meta.env.BASE_URL}articles/mcp-open-platform?lang=cs`,
        title: 'MCP jako otevřená API platforma',
        description: 'Proč je MCP důležité jako přenositelné API pro agenty napříč běhovými prostředími.'
      },
    ],
  },
}[lang];
---

<CyberpunkLayout title={t.title}>
  <div class="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900">
    <div class="fixed right-4 top-4 z-50">
      <LanguageToggle client:load />
    </div>

    <section class="pb-8 pt-20">
      <div class="container mx-auto px-6 text-center">
        <h1 class="mb-4 bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-4xl font-bold text-transparent md:text-6xl">
          {t.title}
        </h1>
        <p class="mx-auto max-w-3xl text-lg text-slate-300">{t.subtitle}</p>
      </div>
    </section>

    <section class="py-12">
      <div class="container mx-auto px-6">
        <h2 class="mb-10 text-center text-2xl font-semibold text-white">{t.featured}</h2>
        <div class="grid gap-6 md:grid-cols-2 lg:grid-cols=3">
          {t.items.map((item) => (
            <a href={item.href} class="group rounded-xl border border-slate-700/50 bg-slate-800/40 p-6 transition-all duration-300 hover:border-cyan-500/30 hover:bg-slate-800/60">
              <h3 class="mb-2 text-xl font-bold text-cyan-400 group-hover:text-cyan-300">{item.title}</h3>
              <p class="mb-4 text-slate-300">{item.description}</p>
              <div class="text-sm font-medium text-purple-300">→ {t.read}</div>
            </a>
          ))}
        </div>
      </div>
    </section>
  </div>
</CyberpunkLayout>