import{j as t}from"./jsx-runtime.ByzIxTkC.js";import{r as i}from"./index.KtlXxVVf.js";import"./_commonjsHelpers.CqkleIqs.js";const f=["C++","JavaScript","Python","Rust","MCP","Linux","Docker"],b="sparesparrow";function h(s,u=!0,l=16){const[d,o]=i.useState("");return i.useEffect(()=>{if(!u)return;let n=0;o("");const r=setInterval(()=>{n+=1,o(s.slice(0,n)),n>=s.length&&clearInterval(r)},l);return()=>clearInterval(r)},[s,u,l]),d}function S(){const[s,u]=i.useState([]),[l,d]=i.useState(!1),[o,n]=i.useState(null),[r,m]=i.useState(()=>{try{const e=localStorage.getItem("selectedTech");return e?JSON.parse(e):[]}catch{return[]}});i.useEffect(()=>{localStorage.setItem("selectedTech",JSON.stringify(r))},[r]),i.useEffect(()=>{d(!0),fetch(`https://api.github.com/users/${b}/repos?per_page=100&sort=updated`).then(e=>{if(!e.ok)throw new Error("Failed to load repos");return e.json()}).then(e=>{const a=e.map(c=>({id:c.id,name:c.name,description:c.description||"",url:c.html_url,language:c.language||"",topics:c.topics||[],pushed_at:c.pushed_at}));u(a)}).catch(e=>n(e.message)).finally(()=>d(!1))},[]);const g=i.useMemo(()=>{if(r.length===0)return s;const e=r.map(a=>a.toLowerCase());return s.filter(a=>{const c=[a.language,...a.topics||[],a.name,a.description].filter(Boolean).join(" ").toLowerCase();return e.every(y=>c.includes(y))})},[s,r]),p=e=>{m(a=>a.includes(e)?a.filter(c=>c!==e):[...a,e])};return t.jsx("section",{id:"projects",className:"cyber-section",children:t.jsxs("div",{className:"cyber-container",children:[t.jsx("h2",{className:"cyber-section-title",children:"GitHub Projects"}),t.jsx("div",{className:"cyber-card",style:{marginBottom:"1rem"},children:t.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:[f.map(e=>t.jsx("button",{onClick:()=>p(e),className:"cyber-btn cyber-btn-outline","data-cy":`tech-${e}`,"aria-pressed":r.includes(e),style:{opacity:r.includes(e)?1:.7,borderColor:r.includes(e)?"var(--color-cyber-blue)":void 0},children:e},e)),r.length>0&&t.jsx("button",{className:"cyber-btn cyber-btn-outline",onClick:()=>m([]),"data-cy":"tech-clear",style:{marginLeft:"auto"},children:"Clear"})]})}),l&&t.jsx("div",{children:"Loading repositories..."}),o&&t.jsxs("div",{style:{color:"var(--color-cyber-orange)"},children:["Error: ",o]}),t.jsxs("div",{className:"cyber-cards-grid",style:{gridAutoRows:"1fr"},"data-cy":"repo-grid",children:[g.map(e=>t.jsx(x,{repo:e,highlight:r},e.id)),!l&&g.length===0&&t.jsx("div",{className:"cyber-card",style:{gridColumn:"1 / -1"},children:"No repositories match selected technologies."})]})]})})}function x({repo:s,highlight:u}){const l=h(s.name,!0,20),d=h(s.description||"",!0,8),o=(s.topics||[]).slice(0,6);return t.jsxs("div",{className:"cyber-card","data-cy":"repo-card",children:[t.jsx("div",{className:"cyber-card-title",title:s.name,children:l||s.name}),t.jsx("div",{className:"cyber-card-description",style:{minHeight:"3.25rem"},children:d||s.description}),t.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginTop:"0.5rem"},children:[s.language&&t.jsx("span",{className:"tech-tag",children:s.language}),o.map(n=>t.jsx("span",{className:"feature-tag",children:n},n))]}),t.jsx("div",{style:{marginTop:"1rem"},children:t.jsx("a",{className:"cyber-btn cyber-btn-primary",href:s.url,target:"_blank",rel:"noreferrer",children:"View Repo"})})]})}export{S as default};
